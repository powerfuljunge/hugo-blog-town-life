<header class="site-header" style="border-bottom: 1px solid #ccc;">
  <div class="container" style="max-width: 960px; margin: 0 auto; padding: 1rem; display: flex; flex-direction: column; align-items: center; gap: 1rem;">
    <div class="site-title" style="font-size: 2rem; font-weight: bold;">
      <a href="{{ "/" | relLangURL }}" style="text-decoration: none; color: inherit;">
        {{ .Site.Title }}
      </a>
    </div>

    <button id="nav-toggle" class="mobile-toggle" style="background: none; border: none; font-size: 1.5rem; display: none;">
      ☰
    </button>

    <nav id="main-nav" class="nav-menu" style="display: flex; gap: 2rem; flex-direction: row; align-items: center;">
      <a href="{{ "/" | relLangURL }}" class="nav-link">Home</a>

      <div class="dropdown-wrapper" style="position: relative;">
        <a href="#" class="dropdown-toggle nav-link">
          注文住宅 <span style="font-size: 0.8rem;">⌄</span>
        </a>
        <div class="dropdown" style="
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            border: 1px solid #ddd;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            min-width: 180px;
            text-align: left;
        ">
          <a href="https://townlife-aff.com/link.php?i=645b4ba18234f&m=675598c315568" target="_blank" class="dropdown-item">【無料】家づくり計画書の一括見積</a>
          <a href="https://townlife-aff.com/link.php?i=5f2370a957a9b&m=675598c315568" target="_blank" class="dropdown-item">【無料】間取りプラン作成</a>
          <a href="https://townlife-aff.com/link.php?i=5a6fd184815fb&m=675598c315568" target="_blank" class="dropdown-item">【無料】平屋住宅づくり</a>
          <a href="https://townlife-aff.com/link.php?i=5ff3f84eb12b4&m=675598c315568" target="_blank" class="dropdown-item">【無料】土地探し</a>
        </div>
      </div>

      <div class="dropdown-wrapper" style="position: relative;">
        <a href="#" class="dropdown-toggle nav-link">
          リフォーム <span style="font-size: 0.8rem;">⌄</span>
        </a>
        <div class="dropdown" style="
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            border: 1px solid #ddd;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            min-width: 180px;
            text-align: left;
        ">
          <a href="https://townlife-aff.com/link.php?i=6552fc75c5f29&m=675598c315568" target="_blank" class="dropdown-item">【無料】リフォーム見積比較 300万円が200万円も!</a>
          <a href="https://townlife-aff.com/link.php?i=5af29474c8a10&m=675598c315568" target="_blank" class="dropdown-item">【無料】リフォーム エクステリア・外構</a>
          <a href="https://townlife-aff.com/link.php?i=646ada4dbba74&m=675598c315568" target="_blank" class="dropdown-item">【無料】リフォーム シロアリ</a>
        </div>
      </div>

      <div class="dropdown-wrapper" style="position: relative;">
        <a href="#" class="dropdown-toggle nav-link">
          土地活用 <span style="font-size: 0.8rem;">⌄</span>
        </a>
        <div class="dropdown" style="
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            border: 1px solid #ddd;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            min-width: 180px;
            text-align: left;
        ">
          <a href="https://townlife-aff.com/link.php?i=5a7127c9e2515&m=675598c315568" target="_blank" class="dropdown-item">【無料】最適な土地活用の提案</a>          
        </div>
      </div>

      <div class="dropdown-wrapper" style="position: relative;">
        <a href="#" class="dropdown-toggle nav-link">
          空き家解決 <span style="font-size: 0.8rem;">⌄</span>
        </a>
        <div class="dropdown" style="
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            border: 1px solid #ddd;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            min-width: 180px;
            text-align: left;
        ">
          <a href="https://townlife-aff.com/link.php?i=67aeb70c15445&m=675598c315568" target="_blank" class="dropdown-item">【無料】空き家解決診断</a>          
        </div>
      </div>

      <div class="dropdown-wrapper" style="position: relative;">
        <a href="#" class="dropdown-toggle nav-link">
          物件情報 <span style="font-size: 0.8rem;">⌄</span>
        </a>
        <div class="dropdown" style="
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            border: 1px solid #ddd;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            min-width: 180px;
            text-align: left;
        ">
          <a href="https://townlife-aff.com/link.php?i=5a054bef01420&m=675598c315568" target="_blank" class="dropdown-item">【無料】ネット未公開の物件情報</a>        
        </div>
      </div>
     
    </nav>
  </div>
</header>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const dropdowns = document.querySelectorAll(".dropdown-wrapper");

    dropdowns.forEach((dropdown) => {
      const toggle = dropdown.querySelector(".dropdown-toggle");
      const menu = dropdown.querySelector(".dropdown");

      toggle.addEventListener("mouseenter", () => {
        menu.style.display = "block";
      });

      dropdown.addEventListener("mouseleave", () => {
        menu.style.display = "none";
      });
    });

    // モバイル対応
    const navToggle = document.getElementById("nav-toggle");
    const mainNav = document.getElementById("main-nav");

    navToggle.addEventListener("click", () => {
      const isVisible = mainNav.style.display === "flex";
      mainNav.style.display = isVisible ? "none" : "flex";
      mainNav.style.flexDirection = "column";
      mainNav.style.alignItems = "flex-start";
      mainNav.style.gap = "1rem";
      mainNav.style.marginTop = "1rem";
    });
  });

  window.addEventListener("load", () => {
    if (window.innerWidth < 768) {
      document.getElementById("nav-toggle").style.display = "block";
      document.getElementById("main-nav").style.display = "none";
    }
  });
</script>

<style>
  .nav-link,
  .dropdown-item {
    display: block;
    padding: 0.5rem 1rem;
    text-decoration: none;
    color: #333;
  }

  .nav-link:hover,
  .dropdown-item:hover {
    background-color: #f0f0f0;
    color: #000;
  }

  @media (max-width: 768px) {
    .nav-menu {
      width: 100%;
    }

    .dropdown {
      position: static !important;
      border: none !important;
      box-shadow: none !important;
      padding-left: 1rem;
    }

    .dropdown-item {
      padding-left: 1.5rem;
    }
  }
</style>
