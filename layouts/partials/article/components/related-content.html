<div class="related-content-section">
  <h2 class="section-title">関連記事</h2>

  <div class="related-content-list">
    {{ $related := .Site.RegularPages.Related . }}
    {{ range first 5 $related }}
      <div class="card">
        <a href="{{ .RelPermalink }}">
          <img src="{{ .RelPermalink }}thumbnail.webp" alt="{{ .Title }}">
          <div class="card-content">
            <h3>{{ .Title }}</h3>
            <div class="card-tags">
              {{ range .Params.tags }}
                <span class="tag">{{ . }}</span>
              {{ end }}
            </div>
            <p class="card-summary">{{ .Plain | truncate 180 }}</p>
            <p class="meta">{{ .Date.Format "2006-01-02" }}</p>
          </div>
        </a>
      </div>
    {{ end }}
  </div>

  <style>
    .related-content-list {
      display: flex;
      overflow-x: auto;
      gap: 1rem;
      padding-bottom: 1rem;
      scroll-snap-type: x mandatory;
    }

    .related-content-list::-webkit-scrollbar {
      display: none; /* スクロールバー非表示（必要なら） */
    }

    .card {
      flex: 0 0 auto;
      width: 280px;
      scroll-snap-align: start;
      border: 1px solid #ddd;
      border-radius: 8px;
      overflow: hidden;
      background-color: white;
    }

    .card img {
      width: 100%;
      height: auto;
    }

    .card-content {
      padding: 0.75rem;
    }

    .card-tags {
      margin-top: 0.5rem;
    }

    .card-summary {
      font-size: 0.9rem;
      color: #555;
    }

    .meta {
      font-size: 0.8rem;
      color: #999;
      margin-top: 0.5rem;
    }
  </style>

</div>
